# 添加校验列(Add a Checksum)

此步骤计算输入流中一个或多个字段的校验和，并将其作为新字段添加到输出中。

![](/image/PDI_TransStep_Dialog_AddChecksum.png)

### 选项(options)

**添加校验列**步骤具有以下选项：

| 选项 | 描述 |
| --- | --- |
| 步骤名称 | 指定画布上“ 添加校验和”步骤的唯一名称。您可以自定义名称或将其保留为默认名称。 |
| 类型 | 指定要计算的校验和的类型。可用的类型包括： <li>CRC32 - 32位循环冗余校验</li> <li>ADLER 32 - Mark Adler的校验和算法</li><li>MD5 - 消息摘要算法5</li><li>SHA-1 - 安全哈希算法1</li><li>SHA-256 - 安全哈希算法2</li> |
| 结果类型 | 如果在上面的Type选项中指定了MD5，SHA-1或SHA-256，则可以选择以下结果类型之一：<li>串</li><li>十六进制</li><li>二进制</li> |
| 结果字段 | 指定包含校验和的字段的名称。 |
| 兼容模式 | 选择该步骤的向后兼容性与PDI版本4.2.0之前创建的转换及其固有的十六进制编码问题。|
| 旧校验和行为模式 | 如果选中，则传入字段将被视为字符串 <br/>**二进制字段类型将生成字节数组的字符串表示形式。**<br/>如果未选中，则所有传入字段都将被视为字节数组。 |
| 字段 | 在表格中，指定要从CSV文件中读取转换的字段。|
| 获得领域 | 单击“  获取字段”以使该步骤使用从源文件派生的字段填充表。此步骤标识的所有字段都将添加到表中. |

### 例子

您的Pentaho发行版包含位于此文件夹中的CRC32示例：

```design-tools/data-integration/samples/transformations/Add a checksum - Basic CRC32 example.ktr```

### 元数据注入支持

此步骤的所有字段都支持元数据注入。您可以将此步骤与**ETL元数据注入**一起使用，以在运行时将元数据传递给转换。